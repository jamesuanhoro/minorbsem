<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Structural equation models (SEMs) rarely reject the null hypothesis
    that there is no model misspecification. One explanation for this problem
    is that covariance structures are influenced by major factors which we can hypothesize about
    and minor factors which we cannot predict a-priori.">
<title>Fit Bayesian structural equation models under the assumption that minor factors exist • minorbsem</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Fit Bayesian structural equation models under the assumption that minor factors exist">
<meta property="og:description" content="Structural equation models (SEMs) rarely reject the null hypothesis
    that there is no model misspecification. One explanation for this problem
    is that covariance structures are influenced by major factors which we can hypothesize about
    and minor factors which we cannot predict a-priori.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">minorbsem</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jamesuanhoro/minorbsem/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="minorbsem">minorbsem<a class="anchor" aria-label="anchor" href="#minorbsem"></a>
</h1></div>
<!-- badges: start -->

<div class="section level4">
<h4 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a>
</h4>
<ul>
<li>
<a href="#package-overview">Package overview</a>
<ul>
<li><a href="#goals">Goals</a></li>
<li><a href="#permitted-models-and-supported-data-types">Permitted models and supported data types</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a></li>
<li><a href="#a-reasonably-complete-demonstration">A reasonably complete demonstration</a></li>
<li>
<a href="#additional-examples">Additional examples</a>
<ul>
<li><a href="#different-methods-to-capture-the-influence-of-minor-factors">Different methods to capture the influence of minor factors</a></li>
<li><a href="#relax-simple-structure">Relax simple structure</a></li>
</ul>
</li>
<li><a href="#contributions-are-encouraged">Contributions are encouraged</a></li>
<li><a href="#citations">Citations</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="package-overview">Package overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h2>
<p>Structural equation models (SEMs) rarely reject the null hypothesis that there is no model misspecification. One explanation for this problem is that covariance structures are influenced by major factors which we can hypothesize about and minor factors which we cannot predict a-priori, e.g. MacCallum and Tucker (1991).</p>
<div class="section level3">
<h3 id="goals">Goals<a class="anchor" aria-label="anchor" href="#goals"></a>
</h3>
<p>The goal of <code>minorbsem</code> is to facilitate fitting Bayesian SEMs that estimate the influence of minor factors on the covariance matrix, following the approach in Uanhoro (2023). Briefly, the method estimates all residual covariances with priors that shrink them towards zero, and the model returns the magnitude of the influence of minor factors.</p>
</div>
<div class="section level3">
<h3 id="permitted-models-and-supported-data-types">Permitted models and supported data types<a class="anchor" aria-label="anchor" href="#permitted-models-and-supported-data-types"></a>
</h3>
<p>The package only fits a limited number of model configurations:</p>
<ul>
<li>CFA, allowing cross-loadings (which may be automatically estimated), correlated errors terms, and fully oblique or orthogonal factors (useful for fitting bifactor models)</li>
<li>SEMs allowing latent regressions (only), cross-loadings, and correlated error terms.</li>
</ul>
<p>However, the package does not currently support fitting:</p>
<ul>
<li>MIMIC,</li>
<li>multi-group models,</li>
<li>multilevel models, or</li>
<li>models with specially constrained parameters (e.g., setting two parameters equal).</li>
</ul>
<p>All data are assumed multivariate normal, i.e. no binary, ordinal models.</p>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p><code>minorbsem</code> is hosted on GitHub, so we need the <code>remotes</code> package to install it. We also need to install the <code>cmdstanr</code> package and CmdStan in order to use Stan.</p>
<p>Instructions:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>  <span class="co"># install remotes</span></span>
<span></span>
<span><span class="co"># next install cmdstanr and CmdStan:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span></span>
<span>  <span class="st">"cmdstanr"</span>,</span>
<span>  repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://mc-stan.org/r-packages/"</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"repos"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">cmdstanr</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/cmdstanr/reference/install_cmdstan.html" class="external-link">check_cmdstan_toolchain</a></span><span class="op">(</span>fix <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">cmdstanr</span><span class="fu">::</span><span class="fu"><a href="https://mc-stan.org/cmdstanr/reference/install_cmdstan.html" class="external-link">install_cmdstan</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Then finally minorbsem:</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jamesuanhoro/minorbsem"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="a-reasonably-complete-demonstration">A reasonably complete demonstration<a class="anchor" aria-label="anchor" href="#a-reasonably-complete-demonstration"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jamesuanhoro.github.io/minorbsem/">minorbsem</a></span><span class="op">)</span></span>
<span><span class="co"># Basic Holzinger-Swineford model</span></span>
<span><span class="va">syntax_1</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">F1 =~ x1 + x2 + x3</span></span>
<span><span class="st">F2 =~ x4 + x5 + x6</span></span>
<span><span class="st">F3 =~ x7 + x8 + x9"</span></span>
<span><span class="co"># Expect a summary table output</span></span>
<span><span class="va">fit_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/minorbsem.html">minorbsem</a></span><span class="op">(</span><span class="va">syntax_1</span>, <span class="va">HS</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save output table to html file, see: ?pretty_print_summary for more options</span></span>
<span><span class="fu"><a href="reference/pretty_print_summary.html">pretty_print_summary</a></span><span class="op">(</span><span class="va">fit_1</span>, save_html <span class="op">=</span> <span class="st">"baseline_model.html"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Histogram of parameters, see: ?parameter_hist for arguments</span></span>
<span><span class="fu"><a href="reference/parameter_hist.html">parameter_hist</a></span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Traceplot of parameters, see: ?parameter_trace for arguments</span></span>
<span><span class="fu"><a href="reference/parameter_trace.html">parameter_trace</a></span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Examine all standardized residual covariances</span></span>
<span><span class="fu"><a href="reference/plot_residuals.html">plot_residuals</a></span><span class="op">(</span><span class="va">fit_1</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_residuals.html">plot_residuals</a></span><span class="op">(</span><span class="va">fit_1</span>, type <span class="op">=</span> <span class="st">"range"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="additional-examples">Additional examples<a class="anchor" aria-label="anchor" href="#additional-examples"></a>
</h2>
<div class="section level3">
<h3 id="different-methods-to-capture-the-influence-of-minor-factors">Different methods to capture the influence of minor factors<a class="anchor" aria-label="anchor" href="#different-methods-to-capture-the-influence-of-minor-factors"></a>
</h3>
<p>Default method above is <code>method = "normal"</code> assuming standardized residual covariances are on average 0 and vary from 0 in continuous fashion.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fit same model as above but use global-local prior to estimate</span></span>
<span><span class="co"># minor factor influences</span></span>
<span><span class="va">fit_gdp</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/minorbsem.html">minorbsem</a></span><span class="op">(</span><span class="va">syntax_1</span>, <span class="va">HS</span>, method <span class="op">=</span> <span class="st">"GDP"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_residuals.html">plot_residuals</a></span><span class="op">(</span><span class="va">fit_gdp</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/parameter_hist.html">parameter_hist</a></span><span class="op">(</span><span class="va">fit_gdp</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/parameter_trace.html">parameter_trace</a></span><span class="op">(</span><span class="va">fit_gdp</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Ignoring minor factor influences</span></span>
<span><span class="va">fit_none</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/minorbsem.html">minorbsem</a></span><span class="op">(</span><span class="va">syntax_1</span>, <span class="va">HS</span>, method <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/parameter_hist.html">parameter_hist</a></span><span class="op">(</span><span class="va">fit_none</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/parameter_trace.html">parameter_trace</a></span><span class="op">(</span><span class="va">fit_none</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Error!!!: Plotting residuals will give an error message</span></span>
<span><span class="co"># since minor factor influences are assumed null</span></span>
<span><span class="fu"><a href="reference/plot_residuals.html">plot_residuals</a></span><span class="op">(</span><span class="va">fit_none</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="relax-simple-structure">Relax simple structure<a class="anchor" aria-label="anchor" href="#relax-simple-structure"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_complex</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/minorbsem.html">minorbsem</a></span><span class="op">(</span><span class="va">syntax_1</span>, <span class="va">HS</span>, simple_struc <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>There are other methods, see details section in <code><a href="reference/minorbsem.html">?minorbsem</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="contributions-are-encouraged">Contributions are encouraged<a class="anchor" aria-label="anchor" href="#contributions-are-encouraged"></a>
</h2>
<p>All users of R (or SEM) are invited to submit functions or ideas for functions.</p>
<p>Feel free to:</p>
<ul>
<li>
<a href="https://github.com/jamesuanhoro/minorbsem/issues/" class="external-link">open an issue</a> to report a bug or to discuss recommendations;</li>
<li>submit pull requests to recommend modifications or suggest improvements.</li>
</ul>
<p>You can also email the package maintainer, James Uanhoro (James dot Uanhoro at unt dot edu). Thank you for helping improve minorbsem :).</p>
</div>
<div class="section level2">
<h2 id="citations">Citations<a class="anchor" aria-label="anchor" href="#citations"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-maccallum_representing_1991" class="csl-entry">
MacCallum, Robert C., and Ledyard R. Tucker. 1991. “Representing Sources of Error in the Common-Factor Model: Implications for Theory and Practice.” <em>Psychological Bulletin</em> 109 (3): 502–11. <a href="https://doi.org/10.1037/0033-2909.109.3.502" class="external-link uri">https://doi.org/10.1037/0033-2909.109.3.502</a>.
</div>
<div id="ref-uanhoro_modeling_2023" class="csl-entry">
Uanhoro, James Ohisei. 2023. “Modeling Misspecification as a Parameter in Bayesian Structural Equation Models.” <em>Educational and Psychological Measurement</em> 0 (0): 00131644231165306. <a href="https://doi.org/10.1177/00131644231165306" class="external-link uri">https://doi.org/10.1177/00131644231165306</a>.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jamesuanhoro/minorbsem/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/jamesuanhoro/minorbsem/issues/" class="external-link">Report a bug</a></li>
<li><a href="mailto:James.Uanhoro@unt.edu">Ask a question / Make a suggestion</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing minorbsem</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James O. Uanhoro <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4843-927X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://app.codecov.io/gh/jamesuanhoro/minorbsem?branch=master" class="external-link"><img src="https://codecov.io/gh/jamesuanhoro/minorbsem/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://cran.r-project.org/" class="external-link"><img src="https://img.shields.io/badge/R%3E%3D-3.4.0-6666ff.svg" alt="minimal R version"></a></li>
<li><a href="https://cran.r-project.org/package=minorbsem" class="external-link"><img src="https://www.r-pkg.org/badges/version/minorbsem" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/jamesuanhoro/minorbsem/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/jamesuanhoro/minorbsem/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://jamesuanhoro.r-universe.dev" class="external-link"><img src="https://jamesuanhoro.r-universe.dev/badges/minorbsem" alt="minorbsem status badge"></a></li>
<li><a href="https://joss.theoj.org/papers/c0cd5b1a2d66bbf21fb00d237f646180" class="external-link"><img src="https://joss.theoj.org/papers/c0cd5b1a2d66bbf21fb00d237f646180/status.svg" alt="JOSS-paper"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by James O. Uanhoro.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
